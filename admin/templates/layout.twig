{% include "_header.twig" %}

{% if session.admin_logged_in %}
<!-- Top Navigation Bar -->
<nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <div class="navbar-item">
            <div class="brand-logo">
                <svg width="40" height="40" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
                    <g transform="scale(0.8) translate(20, 80)">
                        <path d="M167.33 122.56c-20.32,0 -36.8,16.47 -36.8,36.79 0,20.32 16.48,36.8 36.8,36.8l36.79 0 0 -73.59 -36.79 0z" fill="#28be7f"/>
                        <path d="M233.69 228.1c-20.33,0 -36.8,16.47 -36.8,36.79 0,20.32 16.47,36.79 36.8,36.79l36.79 0 0 -73.58 -36.79 0z" fill="#9d76e5"/>
                        <path d="M240.91 154.48l-36.79 0 0 73.58 36.79 0c20.32,0 36.79,-16.47 36.79,-36.79 0,-20.32 -16.47,-36.79 -36.79,-36.79z" fill="#f96e99"/>
                        <path d="M130.51 196.17l0 36.79c0,20.32 16.47,36.79 36.79,36.79 20.32,0 36.79,-16.47 36.79,-36.79l0 -36.79 -73.58 0z" fill="#ff9880"/>
                        <polygon points="162.88,168.34 175.73,168.34 175.73,164.98 167.18,164.98 167.18,160.24 173.68,160.24 173.68,157.1 167.18,157.1 167.18,152.65 175.3,152.65 175.3,149.29 162.88,149.29" fill="#fefefe"/>
                        <path d="M167.93 241.44c5.14,0 8.05,-2.69 8.05,-7.89l0 -11.46 -4.35 0 0 11.2c0,3.49 -1.12,4.71 -3.68,4.71 -2.61,0 -3.54,-1.38 -3.54,-4.56l0 -11.35 -4.34 0 0 11.62c0,5.06 2.85,7.73 7.86,7.73z" fill="#fefefe"/>
                        <path d="M231.76 201.45l6.21 0c6.69,0 10.02,-3.81 10.02,-9.52l0 -0.21c0,-5.7 -3.31,-9.33 -9.99,-9.33l-6.24 0 0 19.06zm4.32 -3.36l0 -12.34 1.7 0c4.03,0 5.71,2.11 5.71,6.02l0 0.22c0,3.94 -1.82,6.1 -5.65,6.1l-1.76 0z" fill="#fefefe"/>
                        <path d="M240.34 273.81c4.69,0 8.07,-2.43 8.56,-7.14l-4.24 0c-0.35,2.45 -2,3.65 -4.37,3.65 -3.15,0 -4.96,-2.29 -4.96,-6.24l0 -0.21c0,-3.94 1.92,-6.29 4.93,-6.29 2.4,0 3.68,1.23 4,3.52l4.42 0c-0.45,-4.69 -3.86,-6.93 -8.45,-6.93 -5.4,0 -9.45,3.94 -9.45,9.73l0 0.21c0,5.86 3.33,9.7 9.56,9.7z" fill="#fefefe"/>
                    </g>
                </svg>
                <div class="brand-text">
                    <div class="brand-name">EDUC AI Bot</div>
                    <div class="brand-subtitle">European Digital UniverCity</div>
                </div>
            </div>
        </div>
        
        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarMenu">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>

    <div id="navbarMenu" class="navbar-menu">
        <div class="navbar-end">
            <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" aria-haspopup="true" aria-expanded="false">
                    <span class="icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                    </span>
                    <span>Account</span>
                    <span class="icon is-small">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </span>
                </a>
                <div class="navbar-dropdown">
                    <a class="navbar-item" href="logout.php">
                        <span class="icon">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                                <polyline points="16,17 21,12 16,7"/>
                                <line x1="21" y1="12" x2="9" y2="12"/>
                            </svg>
                        </span>
                        <span>Logout</span>
                    </a>
                    <hr class="navbar-divider">
                    <div class="navbar-item">
                        <div class="content">
                            <p class="is-size-7 has-text-grey">
                                <strong>EDUC AI Bot</strong><br>
                                Admin Panel
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- Modern Sidebar Navigation -->
<aside class="menu-sidebar">
    <div class="menu-content">
        <p class="menu-label">
            <span class="icon">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="7" height="7"/>
                    <rect x="14" y="3" width="7" height="7"/>
                    <rect x="14" y="14" width="7" height="7"/>
                    <rect x="3" y="14" width="7" height="7"/>
                </svg>
            </span>
            General
        </p>
        <ul class="menu-list">
            <li>
                <a href="{{ url_for('dashboard') }}" class="{{ currentPage == 'dashboard' ? 'is-active' : '' }}">
                    <span class="icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"/>
                            <rect x="14" y="3" width="7" height="7"/>
                            <rect x="14" y="14" width="7" height="7"/>
                            <rect x="3" y="14" width="7" height="7"/>
                        </svg>
                    </span>
                    <span>Dashboard</span>
                </a>
            </li>
            <li>
                <a href="{{ url_for('documents') }}" class="{{ currentPage == 'documents' ? 'is-active' : '' }}">
                    <span class="icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                    </span>
                    <span>Documents</span>
                </a>
            </li>
        </ul>
        
        <p class="menu-label">
            <span class="icon">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                </svg>
            </span>
            Configuration
        </p>
        <ul class="menu-list">
            <li>
                <a href="{{ url_for('models') }}" class="{{ currentPage == 'models' ? 'is-active' : '' }}">
                    <span class="icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                            <line x1="8" y1="21" x2="16" y2="21"/>
                            <line x1="12" y1="17" x2="12" y2="21"/>
                        </svg>
                    </span>
                    <span>Models</span>
                </a>
            </li>
            <li>
                <a href="{{ url_for('prompt') }}" class="{{ currentPage == 'prompt' ? 'is-active' : '' }}">
                    <span class="icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="4,17 10,11 4,5"/>
                            <line x1="12" y1="19" x2="20" y2="19"/>
                        </svg>
                    </span>
                    <span>System Prompt</span>
                </a>
            </li>
            <li>
                <a href="{{ url_for('onboarding') }}" class="{{ currentPage == 'onboarding' ? 'is-active' : '' }}">
                    <span class="icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                        </svg>
                    </span>
                    <span>Onboarding</span>
                </a>
            </li>
            <li>
                <a href="{{ url_for('rag-settings') }}" class="{{ currentPage == 'rag-settings' ? 'is-active' : '' }}">
                    <span class="icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                        </svg>
                    </span>
                    <span>RAG Settings</span>
                </a>
            </li>
        </ul>
        
        <p class="menu-label">
            <span class="icon">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="2" width="20" height="8" rx="2" ry="2"/>
                    <rect x="2" y="14" width="20" height="8" rx="2" ry="2"/>
                    <line x1="6" y1="6" x2="6.01" y2="6"/>
                    <line x1="6" y1="18" x2="6.01" y2="18"/>
                </svg>
            </span>
            System
        </p>
        <ul class="menu-list">
            <li>
                <a href="{{ url_for('logs') }}" class="{{ currentPage == 'logs' ? 'is-active' : '' }}">
                    <span class="icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                    </span>
                    <span>Logs</span>
                </a>
            </li>
        </ul>
    </div>
</aside>
{% endif %}

<!-- Notification Container -->
<div id="notification-container" class="notification-container"></div>

<!-- Main Content Area -->
<main class="main-content{% if session.admin_logged_in %} has-sidebar{% endif %}">
    <div class="content-wrapper">
        {% if session.admin_logged_in %}
        <div class="page-header">
            <h1 class="title is-3">{% block heading %}{% endblock %}</h1>
        </div>
        {% endif %}
        
        {% block content %}{% endblock %}
    </div>
</main>

{% include "_footer.twig" %} 